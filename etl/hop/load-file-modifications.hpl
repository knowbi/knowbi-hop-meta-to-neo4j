<?xml version="1.0" encoding="UTF-8"?>
<pipeline>
  <info>
    <name>load-file-modifications</name>
    <name_sync_with_filename>N</name_sync_with_filename>
    <description/>
    <extended_description/>
    <pipeline_version/>
    <pipeline_type>Normal</pipeline_type>
    <pipeline_status>0</pipeline_status>
    <parameters>
    </parameters>
    <capture_transform_performance>N</capture_transform_performance>
    <transform_performance_capturing_delay>1000</transform_performance_capturing_delay>
    <transform_performance_capturing_size_limit>100</transform_performance_capturing_size_limit>
    <created_user>-</created_user>
    <created_date>2020/11/24 11:10:38.693</created_date>
    <modified_user>-</modified_user>
    <modified_date>2020/11/24 11:10:38.693</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
    <notepad>
      <note>exclude ConcatFields, no file operations there</note>
      <xloc>544</xloc>
      <yloc>64</yloc>
      <width>536</width>
      <heigth>42</heigth>
      <fontname>Cantarell</fontname>
      <fontsize>11</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
    </notepad>
  </notepads>
  <order>
    <hop>
      <from>read-transform-filenames</from>
      <to>filter-file-name</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>read-action-filenames</from>
      <to>filter-file-name</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>select-extension-type-2</from>
      <to>sort-extension-type</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filter-file-name</from>
      <to>exclude-files</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>concat-full-filename</from>
      <to>select-extension-type-2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>concat-full-filename</from>
      <to>select-extension-type</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>select-extension-type</from>
      <to>sort-type</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>switch-extension</from>
      <to>select-hpl</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>switch-extension</from>
      <to>select-hwf</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>trim-extension</from>
      <to>switch-extension</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>select-hwf</from>
      <to>wait-for-create-files</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>wait-for-create-files</from>
      <to>write-operates-on-file</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>wait-for-operates-on-file</from>
      <to>write-read-from-file</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>sort-extension-type</from>
      <to>trim-extension</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>exclude-files</from>
      <to>determine-filename</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>replace-null</from>
      <to>concat-full-filename</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>select-hpl</from>
      <to>filter-input</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filter-input</from>
      <to>wait-for-operates-on-file</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>wait-for-read-from-file</from>
      <to>write-writes-to-file</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filter-input</from>
      <to>filter-output</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filter-output</from>
      <to>wait-for-read-from-file</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filter-output</from>
      <to>other-file-operations</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>determine-filename</from>
      <to>replace-null</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>sort-type</from>
      <to>filter-file_reference</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>filter-file_reference</from>
      <to>create-files</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <transform>
    <name>concat-full-filename</name>
    <type>ConcatFields</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>/</separator>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <format/>
    <encoding/>
    <fields>
      <field>
        <name>path</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>both</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>short_filename</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>both</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
    <ConcatFields>
      <targetFieldName>filename</targetFieldName>
      <targetFieldLength>0</targetFieldLength>
      <removeSelectedFields>N</removeSelectedFields>
    </ConcatFields>
    <attributes/>
    <GUI>
      <xloc>872</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>create-files</name>
    <type>Neo4JOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>lineage-graph</connection>
    <batch_size>1000</batch_size>
    <key/>
    <create_indexes>Y</create_indexes>
    <use_create>N</use_create>
    <only_create_relationships>N</only_create_relationships>
    <returning_graph>N</returning_graph>
    <return_graph_field>graph</return_graph_field>
    <from>
      <read_only_from_node>N</read_only_from_node>
      <labels>
        <label/>
        <value>File</value>
      </labels>
      <properties>
        <property>
          <name>fileReference</name>
          <value>file_reference</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>itemFilename</name>
          <value>item_filename</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilenameField</name>
          <value>item_filename_field</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilePath</name>
          <value>item_file_path</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilemask</name>
          <value>item_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemExcludeFilemask</name>
          <value>item_exclude_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFileRequired</name>
          <value>item_file_required</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemIncludeSubfolders</name>
          <value>item_include_subfolders</value>
          <type>String</type>
          <primary>N</primary>
        </property>
      </properties>
    </from>
    <to>
      <read_only_to_node>N</read_only_to_node>
      <labels/>
      <properties/>
    </to>
    <relationship/>
    <relationship_value/>
    <relprops/>
    <attributes/>
    <GUI>
      <xloc>1024</xloc>
      <yloc>596</yloc>
    </GUI>
  </transform>
  <transform>
    <name>determine-filename</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

var file_reference = ''; 

if(item_filename != null &amp;&amp; item_filename != ''){
  file_reference  = item_filename; 
}
if(item_filename_field != null &amp;&amp; item_filename_field != ''){
  file_reference = item_filename_field; 
} 
if(item_file_path != null &amp;&amp; item_file_path != ''){
  file_reference = item_file_path; 
  if(item_filemask != null &amp;&amp; item_filemask != ''){
    file_reference += ', ' + item_filemask; 
  }
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>file_reference</name>
        <rename>file_reference</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>568</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>exclude-files</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to/>
    <send_false_to/>
    <compare>
      <condition>
        <negated>Y</negated>
        <leftvalue>type</leftvalue>
        <function>IN LIST</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>String</type>
          <text>Mapping;TransExecutor;TRANS;JOB;ConcatFields</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <GUI>
      <xloc>416</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>filter-file-name</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to/>
    <send_false_to>exclude-files</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <conditions>
          <condition>
            <negated>N</negated>
            <leftvalue>item_filename</leftvalue>
            <function>IS NOT NULL</function>
            <rightvalue/>
          </condition>
          <condition>
            <negated>N</negated>
            <operator>OR</operator>
            <leftvalue>item_filename_field</leftvalue>
            <function>IS NOT NULL</function>
            <rightvalue/>
          </condition>
          <condition>
            <negated>N</negated>
            <operator>OR</operator>
            <leftvalue>item_file_path</leftvalue>
            <function>IS NOT NULL</function>
            <rightvalue/>
          </condition>
        </conditions>
      </condition>
    </compare>
    <attributes/>
    <GUI>
      <xloc>264</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>filter-input</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>wait-for-operates-on-file</send_true_to>
    <send_false_to>filter-output</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>pluginId</leftvalue>
        <function>IN LIST</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>String</type>
          <text>ExcelInput;CSVInput;TextFileInput;GetFileNames</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <GUI>
      <xloc>1480</xloc>
      <yloc>456</yloc>
    </GUI>
  </transform>
  <transform>
    <name>filter-output</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>wait-for-read-from-file</send_true_to>
    <send_false_to>other-file-operations</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>pluginId</leftvalue>
        <function>IN LIST</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>String</type>
          <text>ExcelOutput;TypeExitExcelWriterStep;TextFileOutput</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <GUI>
      <xloc>1632</xloc>
      <yloc>456</yloc>
    </GUI>
  </transform>
  <transform>
    <name>other-file-operations</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>##############################
Uncaught file operation transform
##############################
</logmessage>
    <fields>
      <field>
        <name>name</name>
      </field>
      <field>
        <name>pluginId</name>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1784</xloc>
      <yloc>316</yloc>
    </GUI>
  </transform>
  <transform>
    <name>read-action-filenames</name>
    <type>getXMLData</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>Y</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field/>
    <encoding>UTF-8</encoding>
    <file>
      <name>${PROJECT_DIR}</name>
      <filemask>.*.hwf</filemask>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>Y</include_subfolders>
    </file>
    <fields>
      <field>
        <name>name</name>
        <xpath>name</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>type</name>
        <xpath>type</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_filename</name>
        <xpath>filename</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_filename_field</name>
        <xpath>filename_field</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_file_path</name>
        <xpath>file/name</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_filemask</name>
        <xpath>file/filemask</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_exclude_filemask</name>
        <xpath>file/exclude_filemask</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_file_required</name>
        <xpath>file/file_required</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_include_subfolders</name>
        <xpath>file/include_subfolders</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/workflow/actions/action</loopxpath>
    <IsInFields>N</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField/>
    <prunePath/>
    <shortFileFieldName>short_filename</shortFileFieldName>
    <pathFieldName>path</pathFieldName>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName>extension</extensionFieldName>
    <sizeFieldName/>
    <attributes/>
    <GUI>
      <xloc>112</xloc>
      <yloc>326</yloc>
    </GUI>
  </transform>
  <transform>
    <name>read-transform-filenames</name>
    <type>getXMLData</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>Y</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field/>
    <encoding>UTF-8</encoding>
    <file>
      <name>${PROJECT_DIR}</name>
      <filemask>.*.hpl</filemask>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>Y</include_subfolders>
    </file>
    <fields>
      <field>
        <name>name</name>
        <xpath>name</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>type</name>
        <xpath>type</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_filename</name>
        <xpath>filename</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_filename_field</name>
        <xpath>filename_field</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_file_path</name>
        <xpath>file/name</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_filemask</name>
        <xpath>file/filemask</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_exclude_filemask</name>
        <xpath>file/exclude_filemask</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_file_required</name>
        <xpath>file/file_required</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>item_include_subfolders</name>
        <xpath>file/include_subfolders</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/pipeline/transform</loopxpath>
    <IsInFields>N</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField/>
    <prunePath/>
    <shortFileFieldName>short_filename</shortFileFieldName>
    <pathFieldName>path</pathFieldName>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName>extension</extensionFieldName>
    <sizeFieldName/>
    <attributes/>
    <GUI>
      <xloc>112</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>replace-null</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <replaceAllByValue/>
    <replaceAllMask/>
    <selectFields>Y</selectFields>
    <selectValuesType>N</selectValuesType>
    <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>item_filename</name>
        <value>-</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>item_filename_field</name>
        <value>-</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>item_file_path</name>
        <value>-</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>item_filemask</name>
        <value>-</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>item_exclude_filemask</name>
        <value>-</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>item_file_required</name>
        <value>-</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>item_include_subfolders</name>
        <value>-</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>720</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>select-extension-type</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>item_filename</name>
      </field>
      <field>
        <name>item_filename_field</name>
      </field>
      <field>
        <name>item_file_path</name>
      </field>
      <field>
        <name>item_filemask</name>
      </field>
      <field>
        <name>item_exclude_filemask</name>
      </field>
      <field>
        <name>item_file_required</name>
      </field>
      <field>
        <name>item_include_subfolders</name>
      </field>
      <field>
        <name>file_reference</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>872</xloc>
      <yloc>316</yloc>
    </GUI>
  </transform>
  <transform>
    <name>select-extension-type-2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>name</name>
      </field>
      <field>
        <name>type</name>
        <rename>pluginId</rename>
      </field>
      <field>
        <name>short_filename</name>
      </field>
      <field>
        <name>item_filename</name>
      </field>
      <field>
        <name>item_filename_field</name>
      </field>
      <field>
        <name>item_file_path</name>
      </field>
      <field>
        <name>item_filemask</name>
      </field>
      <field>
        <name>item_exclude_filemask</name>
      </field>
      <field>
        <name>item_file_required</name>
      </field>
      <field>
        <name>item_include_subfolders</name>
      </field>
      <field>
        <name>extension</name>
      </field>
      <field>
        <name>path</name>
      </field>
      <field>
        <name>file_reference</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1024</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>select-hpl</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>name</name>
      </field>
      <field>
        <name>pluginId</name>
      </field>
      <field>
        <name>short_filename</name>
      </field>
      <field>
        <name>item_filename</name>
      </field>
      <field>
        <name>item_filename_field</name>
      </field>
      <field>
        <name>item_file_path</name>
      </field>
      <field>
        <name>item_filemask</name>
      </field>
      <field>
        <name>item_exclude_filemask</name>
      </field>
      <field>
        <name>item_file_required</name>
      </field>
      <field>
        <name>item_include_subfolders</name>
      </field>
      <field>
        <name>extension</name>
      </field>
      <field>
        <name>path</name>
      </field>
      <field>
        <name>file_reference</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1480</xloc>
      <yloc>316</yloc>
    </GUI>
  </transform>
  <transform>
    <name>select-hwf</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>name</name>
      </field>
      <field>
        <name>pluginId</name>
      </field>
      <field>
        <name>short_filename</name>
      </field>
      <field>
        <name>item_filename</name>
      </field>
      <field>
        <name>item_filename_field</name>
      </field>
      <field>
        <name>item_file_path</name>
      </field>
      <field>
        <name>item_filemask</name>
      </field>
      <field>
        <name>item_exclude_filemask</name>
      </field>
      <field>
        <name>item_file_required</name>
      </field>
      <field>
        <name>item_include_subfolders</name>
      </field>
      <field>
        <name>extension</name>
      </field>
      <field>
        <name>path</name>
      </field>
      <field>
        <name>file_reference</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1632</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>sort-extension-type</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>Y</unique_rows>
    <fields>
      <field>
        <name>name</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>pluginId</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>short_filename</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_filename</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_filename_field</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_file_path</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_filemask</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_exclude_filemask</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_file_required</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_include_subfolders</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1176</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>sort-type</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>Y</unique_rows>
    <fields>
      <field>
        <name>item_filename</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_filename_field</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_file_path</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_filemask</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_exclude_filemask</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_file_required</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>item_include_subfolders</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>872</xloc>
      <yloc>456</yloc>
    </GUI>
  </transform>
  <transform>
    <name>switch-extension</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <cases>
      <case>
        <target_transform>select-hpl</target_transform>
        <value>hpl</value>
      </case>
      <case>
        <target_transform>select-hwf</target_transform>
        <value>hwf</value>
      </case>
    </cases>
    <case_value_type>String</case_value_type>
    <fieldname>extension</fieldname>
    <use_contains>N</use_contains>
    <attributes/>
    <GUI>
      <xloc>1480</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>trim-extension</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>short_filename</in_stream_name>
        <out_stream_name/>
        <use_regex>yes</use_regex>
        <replace_string>\.hpl|\.hwf</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
        <is_unicode>no</is_unicode>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1328</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>wait-for-create-files</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <CopyNr>0</CopyNr>
        <name>create-files</name>
      </transform>
    </transforms>
    <attributes/>
    <GUI>
      <xloc>1784</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>wait-for-operates-on-file</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <CopyNr>0</CopyNr>
        <name>write-operates-on-file</name>
      </transform>
    </transforms>
    <attributes/>
    <GUI>
      <xloc>1480</xloc>
      <yloc>596</yloc>
    </GUI>
  </transform>
  <transform>
    <name>wait-for-read-from-file</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <CopyNr>0</CopyNr>
        <name>write-read-from-file</name>
      </transform>
    </transforms>
    <attributes/>
    <GUI>
      <xloc>1784</xloc>
      <yloc>456</yloc>
    </GUI>
  </transform>
  <transform>
    <name>write-operates-on-file</name>
    <type>Neo4JOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>lineage-graph</connection>
    <batch_size>1000</batch_size>
    <key/>
    <create_indexes>N</create_indexes>
    <use_create>N</use_create>
    <only_create_relationships>Y</only_create_relationships>
    <returning_graph>N</returning_graph>
    <return_graph_field>graph</return_graph_field>
    <from>
      <read_only_from_node>N</read_only_from_node>
      <labels>
        <label/>
        <value>Action</value>
      </labels>
      <properties>
        <property>
          <name>name</name>
          <value>name</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>pluginId</name>
          <value>pluginId</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>workflowName</name>
          <value>short_filename</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
      </properties>
    </from>
    <to>
      <read_only_to_node>N</read_only_to_node>
      <labels>
        <label/>
        <value>File</value>
      </labels>
      <properties>
        <property>
          <name>fileReference</name>
          <value>file_reference</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>itemFilename</name>
          <value>item_filename</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilenameField</name>
          <value>item_filename_field</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilePath</name>
          <value>item_file_path</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilemask</name>
          <value>item_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemExcludeFilemask</name>
          <value>item_exclude_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFileRequired</name>
          <value>item_file_required</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemIncludeSubfolders</name>
          <value>item_include_subfolders</value>
          <type>String</type>
          <primary>N</primary>
        </property>
      </properties>
    </to>
    <relationship/>
    <relationship_value>OPERATES_ON_FILE</relationship_value>
    <relprops/>
    <attributes/>
    <GUI>
      <xloc>1936</xloc>
      <yloc>176</yloc>
    </GUI>
  </transform>
  <transform>
    <name>write-read-from-file</name>
    <type>Neo4JOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>lineage-graph</connection>
    <batch_size>1000</batch_size>
    <key/>
    <create_indexes>N</create_indexes>
    <use_create>N</use_create>
    <only_create_relationships>Y</only_create_relationships>
    <returning_graph>N</returning_graph>
    <return_graph_field>graph</return_graph_field>
    <from>
      <read_only_from_node>N</read_only_from_node>
      <labels>
        <label/>
        <value>Transform</value>
      </labels>
      <properties>
        <property>
          <name>name</name>
          <value>name</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>pluginId</name>
          <value>pluginId</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>pipelineName</name>
          <value>short_filename</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
      </properties>
    </from>
    <to>
      <read_only_to_node>N</read_only_to_node>
      <labels>
        <label/>
        <value>File</value>
      </labels>
      <properties>
        <property>
          <name>fileReference</name>
          <value>file_reference</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>itemFilename</name>
          <value>item_filename</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilenameField</name>
          <value>item_filename_field</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilePath</name>
          <value>item_file_path</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilemask</name>
          <value>item_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemExcludeFilemask</name>
          <value>item_exclude_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFileRequired</name>
          <value>item_file_required</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemIncludeSubfolders</name>
          <value>item_include_subfolders</value>
          <type>String</type>
          <primary>N</primary>
        </property>
      </properties>
    </to>
    <relationship/>
    <relationship_value>READ_FROM_FILE</relationship_value>
    <relprops/>
    <attributes/>
    <GUI>
      <xloc>1632</xloc>
      <yloc>596</yloc>
    </GUI>
  </transform>
  <transform>
    <name>write-writes-to-file</name>
    <type>Neo4JOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>lineage-graph</connection>
    <batch_size>1000</batch_size>
    <key/>
    <create_indexes>N</create_indexes>
    <use_create>N</use_create>
    <only_create_relationships>Y</only_create_relationships>
    <returning_graph>N</returning_graph>
    <return_graph_field>graph</return_graph_field>
    <from>
      <read_only_from_node>N</read_only_from_node>
      <labels>
        <label/>
        <value>Transform</value>
      </labels>
      <properties>
        <property>
          <name>name</name>
          <value>name</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>pluginId</name>
          <value>pluginId</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>pipelineName</name>
          <value>short_filename</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
      </properties>
    </from>
    <to>
      <read_only_to_node>N</read_only_to_node>
      <labels>
        <label/>
        <value>File</value>
      </labels>
      <properties>
        <property>
          <name>fileReference</name>
          <value>file_reference</value>
          <type>String</type>
          <primary>Y</primary>
        </property>
        <property>
          <name>itemFilename</name>
          <value>item_filename</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilenameField</name>
          <value>item_filename_field</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilePath</name>
          <value>item_file_path</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFilemask</name>
          <value>item_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemExcludeFilemask</name>
          <value>item_exclude_filemask</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemFileRequired</name>
          <value>item_file_required</value>
          <type>String</type>
          <primary>N</primary>
        </property>
        <property>
          <name>itemIncludeSubfolders</name>
          <value>item_include_subfolders</value>
          <type>String</type>
          <primary>N</primary>
        </property>
      </properties>
    </to>
    <relationship/>
    <relationship_value>WRITES_TO_FILE</relationship_value>
    <relprops/>
    <attributes/>
    <GUI>
      <xloc>1936</xloc>
      <yloc>456</yloc>
    </GUI>
  </transform>
  <transform>
    <name>filter-file_reference</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to/>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>file_reference</leftvalue>
        <function>IS NOT NULL</function>
        <rightvalue/>
      </condition>
    </compare>
    <attributes/>
    <GUI>
      <xloc>872</xloc>
      <yloc>596</yloc>
    </GUI>
  </transform>
  <transform_error_handling>
  </transform_error_handling>
  <attributes/>
</pipeline>
